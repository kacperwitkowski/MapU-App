(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{29:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){},49:function(e,t,s){},68:function(e,t,s){},70:function(e,t,s){},71:function(e,t,s){},72:function(e,t,s){},73:function(e,t,s){},80:function(e,t,s){},81:function(e,t,s){},82:function(e,t,s){},83:function(e){e.exports=JSON.parse('[{"question":"What is the largest country in the world?","answers":[{"answerText":"India","isCorrect":false},{"answerText":"Russia","isCorrect":true},{"answerText":"Canada","isCorrect":false},{"answerText":"USA","isCorrect":false}]},{"question":"Which country has the largest population in the world?","answers":[{"answerText":"China","isCorrect":true},{"answerText":"India","isCorrect":false},{"answerText":"Australia","isCorrect":false},{"answerText":"Kazahstan","isCorrect":false}]},{"question":"What is the capital of Mexico?","answers":[{"answerText":"Guadalajara","isCorrect":false},{"answerText":"Mexico City","isCorrect":true},{"answerText":"Bogota","isCorrect":false},{"answerText":"Acapulco","isCorrect":false}]},{"question":"What is the capital of Senegal?","answers":[{"answerText":"Durban","isCorrect":false},{"answerText":"Akra","isCorrect":false},{"answerText":"Dakar","isCorrect":true},{"answerText":"Nairobi","isCorrect":false}]},{"question":"Which of the following attractions is in a different country than the others?","answers":[{"answerText":"Christ the Redeemer","isCorrect":false},{"answerText":"Galapagos beach","isCorrect":true},{"answerText":"Copacabana","isCorrect":false},{"answerText":"Igua\xe7u Falls","isCorrect":false}]},{"question":"How many countries are there in Africa?","answers":[{"answerText":"56","isCorrect":false},{"answerText":"60","isCorrect":false},{"answerText":"48","isCorrect":false},{"answerText":"54","isCorrect":true}]},{"question":"What is the smallest country in the world (0.49km\xb2)?","answers":[{"answerText":"Vatican","isCorrect":true},{"answerText":"Monaco","isCorrect":false},{"answerText":"Andorra","isCorrect":false},{"answerText":"Liechtenstein","isCorrect":false}]},{"question":"Which of the following countries is not in Central America?","answers":[{"answerText":"Honduras","isCorrect":false},{"answerText":"Cuba","isCorrect":false},{"answerText":"Uruguay","isCorrect":true},{"answerText":"Guatemala","isCorrect":false}]},{"question":"In which country can you visit Machu Picchu?","answers":[{"answerText":"Chile","isCorrect":false},{"answerText":"Paraguay","isCorrect":false},{"answerText":"Bolivia","isCorrect":false},{"answerText":"Peru","isCorrect":true}]},{"question":"Which country has the most islands in the world?","answers":[{"answerText":"Sweden","isCorrect":true},{"answerText":"Norway","isCorrect":false},{"answerText":"Canada","isCorrect":false},{"answerText":"Japan","isCorrect":false}]},{"question":" In which of the following country do people drive their vehicles on the left of the road?","index":12,"answers":[{"answerText":"Australia","isCorrect":true},{"answerText":"Poland","isCorrect":false},{"answerText":"China","isCorrect":false},{"answerText":"USA","isCorrect":false}]},{"question":"How many people live in Spain?","index":13,"answers":[{"answerText":"51.269.734","isCorrect":false},{"answerText":"54.409.800","isCorrect":false},{"answerText":"40.222.493","isCorrect":false},{"answerText":"46,754,778","isCorrect":true}]},{"question":"How many people live in Norway?","index":14,"answers":[{"answerText":"9,006,398","isCorrect":false},{"answerText":"5,421,241","isCorrect":true},{"answerText":"4,033,963","isCorrect":false},{"answerText":"3,546,421","isCorrect":false}]},{"question":"In which country can you visit Geneva Lake?","index":15,"answers":[{"answerText":"Poland","isCorrect":false},{"answerText":"Germany","isCorrect":false},{"answerText":"Austria","isCorrect":false},{"answerText":"Switzerland","isCorrect":true}]},{"question":"What country does the island of Zanzibar belong to?","index":16,"answers":[{"answerText":"Cameroon","isCorrect":false},{"answerText":"Tanzania","isCorrect":true},{"answerText":"South Africa","isCorrect":false},{"answerText":"Australia","isCorrect":false}]},{"question":"In which country can you visit Angkor Wat?","index":17,"answers":[{"answerText":"Myanmar","isCorrect":false},{"answerText":"Thailand","isCorrect":false},{"answerText":"Cambodia","isCorrect":true},{"answerText":"Malaysia","isCorrect":false}]},{"question":"To which continent does Fiji belong?","index":18,"answers":[{"answerText":"Oceania","isCorrect":true},{"answerText":"South America","isCorrect":false},{"answerText":"Africa","isCorrect":false},{"answerText":"North America","isCorrect":false}]},{"question":"To which continent does Mauritius belong?","index":19,"answers":[{"answerText":"Oceania","isCorrect":false},{"answerText":"Africa","isCorrect":true},{"answerText":"Asia","isCorrect":false},{"answerText":"North America","isCorrect":false}]},{"question":"To which continent does Haiti belong?","index":20,"answers":[{"answerText":"Europe","isCorrect":false},{"answerText":"South America","isCorrect":false},{"answerText":"Africa","isCorrect":false},{"answerText":"North America","isCorrect":true}]},{"question":"In which part of Africa is Morocco located?","index":21,"answers":[{"answerText":"Northeast","isCorrect":false},{"answerText":"Northwest","isCorrect":true},{"answerText":"Southeast","isCorrect":false},{"answerText":"Southwest","isCorrect":false}]},{"question":"In which part of South America is Argentina located?","index":22,"answers":[{"answerText":"Northeast","isCorrect":false},{"answerText":"Northwest","isCorrect":false},{"answerText":"Southeast","isCorrect":true},{"answerText":"Southwest","isCorrect":false}]},{"question":"What is the capital of Venezuela?","index":23,"answers":[{"answerText":"Asuncion","isCorrect":false},{"answerText":"Caracas","isCorrect":true},{"answerText":"La Paz","isCorrect":false},{"answerText":"Lima","isCorrect":false}]},{"question":"What are the colors in the Japan flag?","index":24,"answers":[{"answerText":"Gold and white","isCorrect":false},{"answerText":"Blue and red","isCorrect":false},{"answerText":"White and Blue","isCorrect":false},{"answerText":"White and red","isCorrect":true}]},{"question":"What are the colors in the Albania flag?","index":25,"answers":[{"answerText":"Red and black","isCorrect":true},{"answerText":"Red and white","isCorrect":false},{"answerText":"Blue and white","isCorrect":false},{"answerText":"Blue and yellow","isCorrect":false}]},{"question":"In which country can you visit Tbilisi Old Town?","index":26,"answers":[{"answerText":"Georgia","isCorrect":true},{"answerText":"Tunisia","isCorrect":false},{"answerText":"Israel","isCorrect":false},{"answerText":"Iran","isCorrect":false}]},{"question":"Which of these countries has a red crescent moon on the flag?","index":27,"answers":[{"answerText":"Namibia","isCorrect":false},{"answerText":"Mali","isCorrect":false},{"answerText":"Ghana","isCorrect":false},{"answerText":"Algeria","isCorrect":true}]},{"question":"Which of these colors is dominating on the Kazakhstan flag?","index":28,"answers":[{"answerText":"Navy","isCorrect":false},{"answerText":"Turquoise","isCorrect":true},{"answerText":"Red","isCorrect":false},{"answerText":"Gold","isCorrect":false}]},{"question":"Which of these countries doesn\'t have access to Baltic Sea?","index":29,"answers":[{"answerText":"Latvia","isCorrect":false},{"answerText":"Denmark","isCorrect":false},{"answerText":"Czech Republic","isCorrect":true},{"answerText":"Poland","isCorrect":false}]},{"question":"After Alaska, which U.S. state has the longest coastline?","index":30,"answers":[{"answerText":"Florida","isCorrect":true},{"answerText":"California","isCorrect":false},{"answerText":"South Carolina","isCorrect":false},{"answerText":"Oregon","isCorrect":false}]},{"question":"What is the capital city of Australia?","index":1,"answers":[{"answerText":"Sydney","isCorrect":false},{"answerText":"Canberra","isCorrect":true},{"answerText":"Auckland","isCorrect":false},{"answerText":"Melbourne","isCorrect":false}]},{"question":"What is the only country that borders the United Kingdom?","index":1,"answers":[{"answerText":"Scotland","isCorrect":false},{"answerText":"Northern Ireland","isCorrect":false},{"answerText":"Iceland","isCorrect":false},{"answerText":"Ireland","isCorrect":true}]},{"question":"The Seychelles are located in which Ocean?","index":1,"answers":[{"answerText":"Atlantic","isCorrect":false},{"answerText":"Indian","isCorrect":true},{"answerText":"Arctic","isCorrect":false},{"answerText":"Pacific","isCorrect":false}]},{"question":"Which U.S. state has the most active volcanoes?","index":1,"answers":[{"answerText":"California","isCorrect":false},{"answerText":"Washington","isCorrect":false},{"answerText":"Alaska","isCorrect":true},{"answerText":"Hawaii","isCorrect":false}]},{"question":"What is the largest country in South America?","index":1,"answers":[{"answerText":"Colombia","isCorrect":false},{"answerText":"Peru","isCorrect":false},{"answerText":"Argentina","isCorrect":false},{"answerText":"Brazil","isCorrect":true}]},{"question":"What European country is home to Transylvania?","index":1,"answers":[{"answerText":"Croatia","isCorrect":false},{"answerText":"Slovenia","isCorrect":false},{"answerText":"Romania","isCorrect":true},{"answerText":"Bulgaria","isCorrect":false}]},{"question":"Pretoria is the capital of what African country?","index":1,"answers":[{"answerText":"South Africa","isCorrect":true},{"answerText":"Somalia","isCorrect":false},{"answerText":"Botswana","isCorrect":false},{"answerText":"Kenya","isCorrect":false}]},{"question":"The highest mountain of the world is in which two countries?","index":1,"answers":[{"answerText":"China and Tibet","isCorrect":false},{"answerText":"Pakistan and Nepal","isCorrect":false},{"answerText":"India and Pakistan","isCorrect":false},{"answerText":"Tibet and Nepal","isCorrect":true}]},{"question":"Which continent is smallest in terms of land?","index":1,"answers":[{"answerText":"Europe","isCorrect":false},{"answerText":"Australia","isCorrect":true},{"answerText":"Africa","isCorrect":false},{"answerText":"Asia","isCorrect":false}]},{"question":"Which of these countries is in South America?","index":1,"answers":[{"answerText":"Jamaica","isCorrect":false},{"answerText":"Dominican Republic","isCorrect":false},{"answerText":"Ecuador","isCorrect":true},{"answerText":"Cuba","isCorrect":false}]},{"question":"Which of these capitals is the most northerly?","index":1,"answers":[{"answerText":"Reykjavik","isCorrect":true},{"answerText":"Helsinki","isCorrect":false},{"answerText":"Oslo","isCorrect":false},{"answerText":"Ottawa","isCorrect":false}]},{"question":"Which of these cities is not located in South America?","index":1,"answers":[{"answerText":"Flamengo","isCorrect":false},{"answerText":"La Paz","isCorrect":false},{"answerText":"Buenos Aires","isCorrect":false},{"answerText":"Kuala Lumpur","isCorrect":true}]},{"question":"On which continent is Cape of Good Hope located?","index":1,"answers":[{"answerText":"South America","isCorrect":false},{"answerText":"Europe","isCorrect":false},{"answerText":"Asia","isCorrect":false},{"answerText":"Africa","isCorrect":true}]},{"question":"In which country can you visit the famous Lochness?","index":1,"answers":[{"answerText":"Romania","isCorrect":false},{"answerText":"Scotland","isCorrect":true},{"answerText":"Bulgaria","isCorrect":false},{"answerText":"Wales","isCorrect":false}]},{"question":"To which country Easter Island belong to?","index":1,"answers":[{"answerText":"Bolivia","isCorrect":false},{"answerText":"Suriname","isCorrect":false},{"answerText":"Chile","isCorrect":true},{"answerText":"Guyana","isCorrect":false}]},{"question":"In what state of America is New Orlean located in?","index":1,"answers":[{"answerText":"Washington","isCorrect":false},{"answerText":"Texas","isCorrect":false},{"answerText":"Louisiana","isCorrect":true},{"answerText":"Kentucky","isCorrect":false}]},{"question":"City of Dubrovnik known from popular TV show called Game of Throne is in which country?","index":1,"answers":[{"answerText":"Croatia","isCorrect":true},{"answerText":"Greece","isCorrect":false},{"answerText":"Slovenia","isCorrect":false},{"answerText":"Bosnia and Herzegovina","isCorrect":false}]},{"question":"What type of animal is in Sri Lanka flag?","index":1,"answers":[{"answerText":"Two headed eagle","isCorrect":false},{"answerText":"Condor","isCorrect":false},{"answerText":"Lion","isCorrect":true},{"answerText":"Cow","isCorrect":false}]},{"question":"What type of animal is in Egypt flag?","index":1,"answers":[{"answerText":"White Dove","isCorrect":false},{"answerText":"Eagle with Snake","isCorrect":false},{"answerText":"Red Dragon","isCorrect":false},{"answerText":"Golden eagle","isCorrect":true}]},{"question":"Formally to which country Greenland belongs to?","index":1,"answers":[{"answerText":"Denmark","isCorrect":true},{"answerText":"Canada","isCorrect":false},{"answerText":"Iceland","isCorrect":false},{"answerText":"Russia","isCorrect":false}]},{"question":"To what country are the Falkland Islands closest to?","index":1,"answers":[{"answerText":"Japan","isCorrect":false},{"answerText":"Argentina","isCorrect":true},{"answerText":"New Zealand","isCorrect":false},{"answerText":"India","isCorrect":false}]},{"question":"Which of the following cities is in a different country than the others?","index":1,"answers":[{"answerText":"Auckland","isCorrect":false},{"answerText":"Wellington","isCorrect":false},{"answerText":"Christchurch","isCorrect":false},{"answerText":"Perth","isCorrect":true}]}]')},84:function(e,t,s){},85:function(e,t,s){"use strict";s.r(t);var a=s(2),r=s.n(a),n=s(14),i=s.n(n),o=(s(41),s(42),s(11)),c=s.n(o),l=s(30),d=s.n(l),u=s(18),j=(s(47),s(48),s(49),s(8)),h=s.n(j),x=s(32),b=s(6),m=(s(68),s(1));var p=()=>{const[e,t]=Object(a.useState)(!1),s=()=>{window.pageYOffset>300?t(!0):t(!1)};return Object(a.useEffect)((()=>(window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)})),[]),Object(m.jsx)("div",{className:"scroll",children:Object(m.jsx)("button",{type:"button",className:e?"scroll__visible":"scroll__notVisible",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:Object(m.jsx)("span",{children:"\u261d\ufe0f"})})})};var f=e=>{let{setIsActive:t}=e;const[s,r]=Object(a.useState)([]),[n,i]=Object(a.useState)(""),[o,c]=Object(a.useState)(""),[l,d]=Object(a.useState)(!1),[u,j]=Object(a.useState)([]),[f,O]=Object(a.useState)(""),[w,g]=Object(a.useState)(""),[C,v]=Object(a.useState)(""),[y,T]=Object(a.useState)(0),[_,S]=Object(a.useState)(0),[N,k]=Object(a.useState)(!1);Object(a.useEffect)((()=>{(async()=>{const e=await h.a.get("https://api.currencyapi.com/v3/latest?apikey=xHykqZcG5R2sZNin76xpuCoJVIstzx8tS1JXR1c8"),{CAD:t,GBP:s,CNY:a,EUR:r,JPY:n,AUD:i}=e.data.data;j([{name:"CAD",value:t.value},{name:"CNY",value:a.value},{name:"GBP",value:s.value},{name:"EUR",value:r.value},{name:"JPY",value:n.value},{name:"AUD",value:i.value},{name:"USD",value:1}])})()}),[]);Object(a.useEffect)((()=>{(async()=>{try{const e=await h.a.get("/myroads?page=".concat(y),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}});r(e.data.roads),S(e.data.totalPages)}catch(e){throw e}})()}),[y,N]),Object(a.useEffect)((()=>{(e=>{const t={gasoline:"gasoline",kms:"kms",gasoline2:"gasoline2",kms2:"kms2",fullPrice:"fullPrice",fullPrice2:"fullPrice2"},a=t[e];if(a===t.kms||a===t.gasoline||a===t.fullPrice){const e=[...s].sort(((e,t)=>t[a]-e[a]));r(e)}else{const e=[...s].sort(((e,t)=>e[a.slice(0,-1)]-t[a.slice(0,-1)]));r(e)}})(n)}),[n]);return Object(a.useEffect)((()=>{(e=>{const t={USD:"USD",EUR:"EUR",GBP:"GBP",CAD:"CAD",CNY:"CNY",JPY:"JPY",AUD:"AUD"}[e],s=u.find((e=>e.name===t));O(null===s||void 0===s?void 0:s.value),g(null===s||void 0===s?void 0:s.name)})(o)}),[o]),Object(m.jsxs)("div",{className:"dashboard",children:[Object(m.jsx)("button",{title:"Close",className:"dashboard__close",onClick:()=>t(!1),children:Object(m.jsx)(b.d,{})}),Object(m.jsxs)("div",{className:"dashboard__options",children:[Object(m.jsx)("button",{title:"Previous Page",onClick:()=>{T(Math.max(0,y-1))},children:Object(m.jsx)(b.b,{})}),Object(m.jsxs)("select",{onChange:e=>i(e.target.value),children:[Object(m.jsxs)("option",{disabled:!0,selected:!0,children:[" ","-- select an option --"," "]}),Object(m.jsx)("option",{value:"gasoline2",children:"Lowest Liters Cons"}),Object(m.jsx)("option",{value:"gasoline",children:"Highest Liters Cons"}),Object(m.jsx)("option",{value:"kms2",children:"Shortest Road"}),Object(m.jsx)("option",{value:"kms",children:"Longest Road"}),Object(m.jsx)("option",{value:"fullPrice2",children:"Cheapest Roads"}),Object(m.jsx)("option",{value:"fullPrice",children:"Expensive Roads"})]}),Object(m.jsxs)("select",{onChange:e=>{return t=e.target.value,void d("miles"===t);var t},children:[Object(m.jsx)("option",{defaultValue:!0,value:"kms",children:"Kilometers"}),Object(m.jsx)("option",{value:"miles",children:"Miles"})]}),Object(m.jsxs)("select",{onChange:e=>c(e.target.value),children:[Object(m.jsx)("option",{defaultValue:!0,value:"USD",children:"USD"}),Object(m.jsx)("option",{value:"EUR",children:"EUR"}),Object(m.jsx)("option",{value:"GBP",children:"GBP"}),Object(m.jsx)("option",{value:"CAD",children:"CAD"}),Object(m.jsx)("option",{value:"AUD",children:"AUD"}),Object(m.jsx)("option",{value:"JPY",children:"JPY"}),Object(m.jsx)("option",{value:"CNY",children:"CNY"})]}),Object(m.jsx)("button",{title:"Next Page",onClick:()=>{T(Math.min(_-1,y+1))},children:Object(m.jsx)(b.c,{})})]}),Object(m.jsx)("div",{className:"dashboard__roadsContainer",children:0!==s.length?s.map((e=>Object(m.jsxs)("div",{className:"dashboard__road",children:[Object(m.jsxs)("div",{className:"dashboard__road--imgDiv",children:[Object(m.jsx)("img",{className:"dashboard__road--img",src:e.img1,alt:"flag"}),Object(m.jsx)("img",{className:"dashboard__road--img",src:e.img2?e.img2:"",alt:"flag"})]}),Object(m.jsxs)("div",{className:"dashboard__road--title",children:[Object(m.jsx)("p",{children:e.title}),Object(m.jsx)(b.f,{title:"Edit",style:{fontSize:"20px",cursor:"pointer"},onClick:e=>{e.target.closest("div").nextSibling.style.display="block"}})]}),Object(m.jsxs)("form",{className:"dashboard__road--editTitleForm",children:[Object(m.jsx)("input",{required:!0,placeholder:"Enter a title (min.3)",min:3,maxLength:25,onChange:e=>v(e.target.value)}),Object(m.jsx)("button",{disabled:C.length<=2,onClick:t=>((e,t)=>{e.preventDefault(),fetch("/updateTour/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({_id:t,title:C})});const s=e.target.closest("form");s.style.display="none",s.childNodes[0].value="",v(""),k(!N)})(t,e._id),children:"Save"})]}),Object(m.jsx)("p",{children:2===e.countries.length?"".concat(e.countries[0]," - ").concat(e.countries[1]):e.countries[0]}),Object(m.jsxs)("p",{children:["It's"," ",l?"".concat((e.kms/1e3*.6214).toFixed(1),"mi "):"".concat((e.kms/1e3).toFixed(1),"km "),"long"]}),Object(m.jsxs)("p",{children:["Average fuel consumption was"," ","".concat(e.gasoline,l?"L per 100mi":"L per 100km")," "]}),Object(m.jsxs)("p",{children:["Average route price"," ",l?f?(.621371192*e.fullPrice*f).toFixed(1):(.621371192*e.fullPrice).toFixed(1):f?(e.fullPrice*f).toFixed(1):e.fullPrice,w||"USD"]}),Object(m.jsxs)("div",{className:"dashboard__road--details",children:[Object(m.jsxs)("p",{style:{margin:"0px"},children:["Created at ",e.createdAt.slice(0,10)]}),Object(m.jsx)("button",{title:"Delete",className:"dashboard__road--delete",onClick:()=>{const t=s.filter((t=>t._id!==e._id));r(t),setTimeout((()=>{(async e=>{try{await h.a.delete("/deleteroad/".concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}})}catch(t){throw t}})(e._id)}),1e3)},children:Object(m.jsx)(x.a,{})})]})]},e._id))):Object(m.jsx)("p",{style:{fontSize:"48px"},className:"dashboard__road--text",children:"There is empty"})}),Object(m.jsx)(p,{})]})};s(70);var O=e=>{let{setShowRegister:t}=e;const[s,r]=Object(a.useState)(""),[n,i]=Object(a.useState)(""),[o,c]=Object(a.useState)(""),[l,d]=Object(a.useState)(""),[u,j]=Object(a.useState)(""),[h,x]=Object(a.useState)(!1),[p,f]=Object(a.useState)(!1),[O,w]=Object(a.useState)(""),[g,C]=Object(a.useState)("");Object(a.useEffect)((()=>{g&&v()}),[g]);const v=()=>{/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(l)||console.log("invalid email"),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:n,passwordConfirm:o,email:l,pic:g||"https://res.cloudinary.com/dx7vsnkjj/image/upload/v1641343261/dobry_klbahr.png"})}).then((e=>{e.ok?(x(!0),j(""),f(!1)):(f(!0),j(e.status))})).catch((e=>{throw e}))},y=e=>{e.preventDefault(),O?(()=>{const e=new FormData;e.append("file",O),e.append("upload_preset","mapU-app"),e.append("cloud_name","dx7vsnkjj"),fetch("https://api.cloudinary.com/v1_1/dx7vsnkjj/image/upload",{method:"POST",body:e}).then((e=>e.json())).then((e=>{C(e.url)})).catch((e=>{throw e}))})():v()};return Object(m.jsx)("div",{className:"register",children:Object(m.jsxs)("div",{className:"register__content",children:[Object(m.jsx)("button",{onClick:()=>t(!1),className:"register__close",title:"Close",children:"\xd7"}),Object(m.jsx)("div",{className:"register__content--logo",children:Object(m.jsx)("img",{src:"./logo.png",alt:"logo"})}),Object(m.jsxs)("form",{className:"register__content--formSumbit",children:[Object(m.jsx)("input",{type:"text",placeholder:"Username",required:!0,value:s,onChange:e=>r(e.target.value)}),Object(m.jsx)("input",{type:"email",required:!0,placeholder:"Email",value:l,onChange:e=>d(e.target.value)}),Object(m.jsx)("input",{type:"password",required:!0,placeholder:"Password",value:n,onChange:e=>i(e.target.value)}),Object(m.jsx)("input",{type:"password",required:!0,placeholder:"Repeat password",value:o,onChange:e=>c(e.target.value)}),Object(m.jsxs)("label",{className:"custom-file-upload",children:[Object(m.jsx)(b.e,{}),Object(m.jsx)("i",{children:"Upload photo"}),Object(m.jsx)("input",{type:"file",onChange:e=>w(e.target.files[0])})]}),Object(m.jsx)("button",{onClick:e=>y(e),className:"register__content--button",children:"Register"})]}),500===u?Object(m.jsx)("span",{style:{color:"red",textAlign:"center"},children:"You entered the wrong value or the user with this email/username already exists!"}):"",p?l&&n&&o&&s?"":Object(m.jsx)("span",{style:{color:"red"},children:"Please fill in all fields!"}):"",h?Object(m.jsx)("span",{style:{color:"green"},children:"Saved successfully!"}):""]})})};s(71);var w=e=>{let{setShowLogin:t,setCurrentUser:s}=e;const[r,n]=Object(a.useState)(""),[i,o]=Object(a.useState)(""),[c,l]=Object(a.useState)(!1),[d,u]=Object(a.useState)(!1),[j,x]=Object(a.useState)(""),[b,p]=Object(a.useState)("");return Object(m.jsx)("div",{className:"login",children:Object(m.jsxs)("div",{className:"login__content",children:[Object(m.jsx)("button",{title:"Close",onClick:()=>t(!1),className:"login__close",children:"\xd7"}),Object(m.jsx)("div",{className:"login__logo",children:Object(m.jsx)("img",{src:"./logo.png",alt:"logo"})}),Object(m.jsxs)("form",{className:"login__formSumbit",onSubmit:e=>(async e=>{e.preventDefault();const a={email:i,password:r};try{const{data:e}=await h.a.post("/signin",a);localStorage.setItem("jwt",e.token),localStorage.setItem("user",JSON.stringify(e.user)),s(e.user.username),t(!1)}catch(n){l(!0)}})(e),children:[Object(m.jsx)("input",{type:"email",placeholder:"Email",required:!0,value:i,onChange:e=>o(e.target.value)}),Object(m.jsx)("input",{type:"password",placeholder:"Password",required:!0,value:r,onChange:e=>n(e.target.value)}),Object(m.jsx)("button",{disabled:!r||!i,className:"login__formSumbit--button","data-testid":"loginButton",children:"Login"})]}),c&&Object(m.jsx)("span",{style:{color:"red",textAlign:"center"},children:"You entered the wrong value or the user with this email doesn't exist!"}),Object(m.jsx)("button",{className:"login__forgotPassBtn",onClick:()=>u(!0),children:"Forgot the password?"}),d&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("form",{className:"login__forgotPassDiv",children:[Object(m.jsx)("input",{type:"email",value:j,placeholder:"Type your email",onChange:e=>x(e.target.value)}),Object(m.jsx)("button",{className:"login__forgotPassDiv--emailBtn",onClick:e=>(async e=>{e.preventDefault();try{await h.a.post("/forgotpassword",{email:j})&&p("Email sent!")}catch(t){p(t.response.data.message)}})(e),children:"Send"})]}),b&&Object(m.jsx)("span",{style:{textAlign:"center"},children:b})]})]})})},g=(s(72),s(10)),C=(s(28),s(33)),v=s(34),y=(s(73),s(15));const T=Object(y.b)({name:"roadInformations",initialState:{destination:[],origin:[],gasoline:"",gasolineSummary:"",gasolineO:"",gasolineD:"",roadInfo:"",visitedCountries:"",items1:"",items2:"",distance:""},reducers:{setDestinationCor:(e,t)=>{e.destination=t.payload},setOriginCor:(e,t)=>{e.origin=t.payload},setAvrTwoPrices:(e,t)=>{e.gasolineSummary=t.payload},setGasolineO:(e,t)=>{e.gasolineO=t.payload},setGasolineD:(e,t)=>{e.gasolineD=t.payload},setDistance:(e,t)=>{e.distance=t.payload},setRoadInfos:(e,t)=>{e.roadInfo=t.payload},setCountriesOnVecMap:(e,t)=>{e.visitedCountries=t.payload},setItems1:(e,t)=>{e.items1=t.payload},setItems2:(e,t)=>{e.items2=t.payload}}}),{setDestinationCor:_,setOriginCor:S,setGasolinePrice:N,setAvrTwoPrices:k,setRoadInfos:A,setCountriesOnVecMap:I,setItems1:P,setItems2:q,setDistance:D,setGasolineD:z,setGasolineO:E}=T.actions;var U=T.reducer,M=s(9);var L=()=>{var e,t;const[s,r]=Object(a.useState)([]),[n,i]=Object(a.useState)([]),[o,c]=Object(a.useState)(""),[l,d]=Object(a.useState)(""),[u,j]=Object(a.useState)(!1),[x,b]=Object(a.useState)(!1),p=Object(M.b)();Object(a.useEffect)((()=>{(async()=>{try{const e=await h.a.get("/mycountries",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}});c(0===e.data.length?"":e.data[0]._id),s&&(i(0===e.data.length?"":e.data[0].countryCode),r(0===e.data.length?"":e.data[0].countriesList)),j(!0)}catch(e){throw e}})()}),[]),Object(a.useEffect)((()=>{n&&n.forEach((e=>{document.querySelector("[id=".concat(e,"]")).style.fill="#a1d99b"}))}),[u]),Object(a.useEffect)((()=>{p(I(s))}),[s]);const f={countriesList:s,countryCode:n};return Object(m.jsxs)("div",{className:"vectorMap",children:[Object(m.jsx)(v.SVGMap,{map:C.a,onLocationClick:function(e){let t=e.target.getAttribute("name"),a=e.target.getAttribute("id");if(d(t),-1===(null===s||void 0===s?void 0:s.indexOf(t))&&-1===n.indexOf(a))r([...s,t]),i([...n,a]),e.target.style.fill="#a1d99b";else{let o=0!==s.length&&s.filter((e=>e!==t)),c=0!==n.length&&n.filter((e=>e!==a));r([...o]),i([...c]),e.target.style.fill="#ddd"}p(I(s)),b(!0)}}),Object(m.jsxs)("div",{className:"vectorMap__container",children:[Object(m.jsx)("h4",{children:"Select the countries you've been to!"}),Object(m.jsxs)("p",{children:["Last one clicked:"," ",l||s[(null===s||void 0===s?void 0:s.length)-1]]}),0===(null===(e=s.countriesList)||void 0===e?void 0:e.length)||o?"":Object(m.jsx)("button",{onClick:()=>{fetch("/createcountries",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({...f})}).catch((e=>{throw e}))},children:"Save"}),0!==(null===(t=s.countriesList)||void 0===t?void 0:t.length)&&o&&x?Object(m.jsx)("button",{onClick:()=>{fetch("/createcountries/".concat(o),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({...f})}).catch((e=>{throw e}))},children:"Update"}):""]})]})};var R=e=>{const[t,s]=Object(a.useState)(!0),[r,n]=Object(a.useState)(0),[i,o]=Object(a.useState)(1),[c,l]=Object(a.useState)(!0);let d={playing:t,setPlaying:s,progress:r,setProgress:n,setSpeed:o,speed:i,muted:c};Object(a.useEffect)((()=>{t?e.current.play():e.current.pause()}),[t,e]);const u=()=>{const t=e.current.currentTime/e.current.duration*100;n(t)};return Object(a.useEffect)((()=>{e.current.muted=!!c}),[c,e]),{togglePlay:e=>{s(!t)},handleOnTimeUpdate:u,handleOnTimeUpdate:u,handleVideoProgress:t=>{const s=Number(t.target.value);e.current.currentTime=e.current.duration/100*s,n(s)},handleVideoSpeed:t=>{const s=Number(t.target.value);e.current.playbackRate=s,o(s)},toggleMute:()=>{l(!c)},playerState:d}};s(80);var B=e=>{let{setIsActive:t}=e;const s=window.localStorage,[r,n]=Object(a.useState)(!1),[i,o]=Object(a.useState)(!1),[c,l]=Object(a.useState)(""),[d,u]=Object(a.useState)(""),[j,h]=Object(a.useState)(""),[x,b]=Object(a.useState)(""),[p,f]=Object(a.useState)(""),[O,w]=Object(a.useState)(""),[g,C]=Object(a.useState)(""),[v,y]=Object(a.useState)(s.getItem("user")),T=()=>{d&&!1!==/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(d)?t(!1):w("Email is not valid!")};return Object(m.jsx)("div",{className:"settings",children:Object(m.jsxs)("div",{className:"settings__content",children:[Object(m.jsx)("button",{onClick:()=>t(!1),className:"settings__close",title:"Close",children:"\xd7"}),Object(m.jsx)("img",{src:"./logo.png",alt:"mapu logo"}),Object(m.jsxs)("div",{className:"settings__content--divs",children:[Object(m.jsxs)("div",{className:"settings__content--buttons",children:[Object(m.jsx)("button",{className:"settings__content--button",onClick:()=>{n(!0),o(!1)},children:"Change info"}),Object(m.jsx)("button",{className:"settings__content--button",onClick:()=>{n(!1),o(!0)},children:"Change password"}),Object(m.jsx)("button",{className:"settings__content--button",onClick:()=>(n(!1),o(!1),void(window.confirm("Are you sure you want to delete your account? \n(You cannot undo this decision)")&&(fetch("/deleteMe",{method:"DELETE",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).catch((e=>{throw e})),s.removeItem("user"),s.removeItem("jwt"),y(null),window.location.reload(!1)))),children:"Delete account"})]}),Object(m.jsxs)("form",{className:"settings__content--form1",style:r&&!i?{display:"flex"}:{display:"none"},children:[Object(m.jsx)("label",{children:"Username"}),Object(m.jsx)("input",{onChange:e=>l(e.target.value),type:"text"}),Object(m.jsx)("label",{children:"Email"}),Object(m.jsx)("input",{onChange:e=>u(e.target.value),type:"email"}),O,Object(m.jsx)("p",{children:"*You don't have to change both*"}),Object(m.jsx)("button",{onClick:e=>(e=>{e.preventDefault(),fetch("/updateMe",{method:"PATCH",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({username:c||v.username,email:d||v.email})}).then((()=>{const e=JSON.parse(v);s.setItem("user",JSON.stringify({_id:e._id,pic:e.pic,score:e.score,email:d&&T()?d:e.email,username:c||e.username})),""!==c&&t(!1)})).catch((e=>{throw e}))})(e),children:"Sumbit"})]}),Object(m.jsxs)("form",{className:"settings__content--form2",style:i&&!r?{display:"flex"}:{display:"none"},children:[Object(m.jsx)("label",{children:"Current Password"}),Object(m.jsx)("input",{onChange:e=>h(e.target.value),type:"password"}),Object(m.jsx)("label",{children:"New Password"}),Object(m.jsx)("input",{onChange:e=>b(e.target.value),type:"password"}),Object(m.jsx)("label",{children:"Type New Password Again"}),Object(m.jsx)("input",{onChange:e=>f(e.target.value),type:"password"}),g,Object(m.jsx)("button",{onClick:e=>(e=>{e.preventDefault(),fetch("/updateMyPassword",{method:"PATCH",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({passwordCurrent:j||"",password:x||"",passwordConfirm:p||""})}).then((e=>{e.ok?t(!1):C("One of the passwords is incorrect!")})).catch((e=>{throw e}))})(e),children:"Sumbit"})]})]}),Object(m.jsx)("div",{className:"settings__footer",children:Object(m.jsxs)("p",{className:"settings__footer--text",children:["@All Rights Reserved by",Object(m.jsxs)("a",{href:"https://github.com/kacperwitkowski",target:"_blank",rel:"noreferrer",children:[" ","Kacper Witkowski"]})]})})]})})};var W=e=>{let{setIsActive:t}=e;const[s,r]=Object(a.useState)(""),[n,i]=Object(a.useState)(!1),[o,c]=Object(a.useState)(!1),[l,d]=Object(a.useState)(JSON.parse(localStorage.getItem("user"))),u=Object(a.useRef)(null),{playerState:j,togglePlay:h,handleOnTimeUpdate:x,handleVideoProgress:p,handleVideoSpeed:f,toggleMute:O}=R(u),{visitedCountries:w}=Object(M.c)((e=>e.directions)),C=()=>101!==l.score&&l?l.score>=0&&l.score<40?"./sandybrown.png":l.score>=40&&l.score<90?"./silver.png":l.score>=90&&l.score<=100?"./gold.png":"./qm.png":"./qm.png";Object(a.useEffect)((()=>{if(s){const e=new FormData;e.append("file",s),e.append("upload_preset","mapU-app"),e.append("cloud_name","dx7vsnkjj"),fetch("https://api.cloudinary.com/v1_1/dx7vsnkjj/image/upload",{method:"POST",body:e}).then((e=>e.json())).then((e=>{localStorage.setItem("user",JSON.stringify({...l,pic:e.url})),d({...l,pic:e.url}),fetch("/updatepic",{method:"PUT",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({pic:e.url})})})).catch((e=>{throw e}))}}),[s]);return Object(m.jsxs)("div",{className:"profile",style:n?{minHeight:"auto",maxHeight:"100vh"}:{},children:[Object(m.jsx)("button",{title:"Close",className:"profile__close",onClick:()=>t(!1),children:Object(m.jsx)(b.d,{})}),Object(m.jsx)("button",{className:"profile__settings",children:Object(m.jsx)(b.g,{onClick:()=>{i(!0)},title:"Settings"})}),Object(m.jsx)("button",{onClick:()=>{localStorage.removeItem("user"),localStorage.removeItem("jwt"),d(null),window.location.reload(!1)},className:"profile__logout",title:"Logout",children:Object(m.jsx)("span",{children:"Logout"})}),Object(m.jsxs)("div",{className:"profile__userPage",children:[Object(m.jsxs)("div",{className:"profile__userImageDiv",children:[Object(m.jsx)("p",{children:null===l||void 0===l?void 0:l.username}),Object(m.jsx)("img",{className:"profile__userImageDiv--img",src:null===l||void 0===l?void 0:l.pic,alt:"user pic"}),Object(m.jsxs)("label",{className:"custom-file-upload",children:[Object(m.jsx)(b.e,{}),Object(m.jsx)("i",{children:"Update photo"}),Object(m.jsx)("input",{type:"file",onChange:e=>{return t=e.target.files[0],void r(t);var t}})]})]}),Object(m.jsxs)("div",{className:"video",children:[Object(m.jsx)("video",{className:"video__content",src:"https://res.cloudinary.com/dx7vsnkjj/video/upload/v1670966876/starwarstheme_qjxwlk.mp4",ref:u,onTimeUpdate:x}),Object(m.jsxs)("div",{className:"video__controls",children:[Object(m.jsx)("div",{className:"video__controls--playToggle",children:Object(m.jsx)("button",{onClick:h,children:j.playing?Object(m.jsx)(g.b,{color:"white"}):Object(m.jsx)(g.c,{color:"white"})})}),Object(m.jsx)("input",{type:"range",min:"0",max:"100",value:j.progress,onChange:e=>p(e)}),Object(m.jsxs)("select",{className:"video__controls--velocity",value:j.speed,onChange:e=>f(e),children:[Object(m.jsx)("option",{value:"0.50",children:"0.50x"}),Object(m.jsx)("option",{value:"1",children:"1x"}),Object(m.jsx)("option",{value:"1.25",children:"1.25x"}),Object(m.jsx)("option",{value:"2",children:"2x"})]}),Object(m.jsx)("button",{className:"video__controls--muteBtn",onClick:O,children:j.muted?Object(m.jsx)(b.a,{}):Object(m.jsx)(b.h,{})})]})]}),Object(m.jsxs)("div",{className:"profile__stats",style:{color:C().slice(0,-4).slice(2)},children:[Object(m.jsx)("p",{children:"Medal/stats"}),Object(m.jsxs)("div",{className:"profile__statsDiv",children:[Object(m.jsx)("div",{className:"profile__statsDiv--medal",title:"Medal from quiz",style:{borderColor:C().slice(0,-4).slice(2)},children:Object(m.jsx)("img",{src:C(),alt:"medal",className:"profile__statsDiv--img"})}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:[w.length,"/200"]}),Object(m.jsxs)("p",{children:[(w.length/200*100).toFixed(1),"%"]})]})]}),0!==w.length&&Object(m.jsx)("button",{style:{color:C().slice(0,-4).slice(2),borderColor:C().slice(0,-4).slice(2)},onClick:()=>c(!0),children:"See list of visited countries"})]})]}),o&&Object(m.jsx)("div",{className:"profile__countries",children:Object(m.jsxs)("div",{className:"profile__countries--content",children:[Object(m.jsx)("button",{onClick:()=>c(!1),className:"profile__countries--close",title:"Close",children:"\xd7"}),Object(m.jsx)("ul",{children:w.map(((e,t)=>Object(m.jsx)("li",{children:e},t)))})]})}),Object(m.jsx)(L,{}),n&&Object(m.jsx)(B,{isActive:n,setIsActive:i})]})},J=(s(81),s.p+"static/media/drive.986c0af0.gif");var G=e=>{let{setIsActive:t}=e;return Object(m.jsx)("div",{className:"info",children:Object(m.jsxs)("div",{className:"info__content",children:[Object(m.jsx)("button",{onClick:()=>t(!1),className:"info__close",title:"Close",children:"\xd7"}),Object(m.jsx)("h3",{children:"MapU"}),Object(m.jsx)("p",{className:"info__content--text",children:"Did you ever wonder how many kilometers or miles you drove without knowing how much your road have cost? Now MapU comes with the rescue! On this site you can approximately calculate every road, beetwen any countries you want. The gasoline prices for each coutry are updated regurarly (last update was: 14.03.2022 ) Additionally to that you can get all important information about countries where you started and finished your journey. The profile site has also a feature that allows users to save any country they have ever been to on a map. In order to use all of the feautres MapU provides, you have to be logged in!"}),Object(m.jsx)("div",{className:"info__content--imgDiv",children:Object(m.jsx)("img",{src:J,alt:"meme"})}),Object(m.jsx)("div",{children:Object(m.jsxs)("p",{children:["@All Rights Reserved by",Object(m.jsxs)("a",{href:"https://github.com/kacperwitkowski",target:"_blank",rel:"noreferrer",children:[" ","Kacper Witkowski"]})]})})]})})};s(82);var F=e=>{let{setStop:t,qNumber:s}=e;const[r,n]=Object(a.useState)(20);return Object(a.useEffect)((()=>{if(0===r)return t(!0);const e=setInterval((()=>{n((e=>e-1))}),1e3);return()=>{clearInterval(e)}}),[t,r]),Object(a.useEffect)((()=>{n(20)}),[s]),r};var Y=e=>{let{setIsActive:t}=e;const[s,r]=Object(a.useState)(JSON.parse(localStorage.getItem("user"))),[n,i]=Object(a.useState)(!1),[o,c]=Object(a.useState)(!0),[l,d]=Object(a.useState)(0),[u,j]=Object(a.useState)(JSON.parse(localStorage.getItem("questions"))),[h,x]=Object(a.useState)(0),[f,O]=Object(a.useState)(Math.floor(Math.random()*u.length));Object(a.useEffect)((()=>{if(n){let e=l/10*100;fetch("/updatescore",{method:"PUT",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({score:e})}).then((()=>{localStorage.setItem("user",JSON.stringify({...s,score:e}))})).catch((e=>{throw e}))}}),[n]),Object(a.useEffect)((()=>{u.splice(f,1),O(Math.floor(Math.random()*u.length)),x(h+1)}),[]);const w=()=>{j(JSON.parse(localStorage.getItem("questions"))),x(1),O(Math.floor(Math.random()*u.length)),i(!1),d(0)};return Object(m.jsxs)("div",{className:"quiz",style:o?{justifyContent:"unset"}:{justifyContent:"center"},children:[Object(m.jsx)("button",{className:"quiz__close",title:"Close",onClick:()=>{(n||o||window.confirm("You want to close that page? Result will be not saved until you finish the game!"))&&(t(!1),w())},children:Object(m.jsx)(b.d,{})}),o?Object(m.jsxs)("div",{className:"quiz__content--introduction",children:[Object(m.jsx)("h3",{children:"Welcome to the Geography Quiz!"}),Object(m.jsx)("p",{children:"In this quiz you may check your geography knowledge answering on 10 random questions! In each game questions are drawn randomly, but there is no chance you will have the same questions in one game. Questions are sorted from places through flags, capitals or even population numbers! Ofcourse you are not playing for nothinf, aside testing your knowledge you can get medal which will be assigned to your account!"}),Object(m.jsx)("p",{children:"Good Luck!"}),Object(m.jsxs)("div",{className:"quiz__content--medals",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:"./sandybrown.png",alt:"brown medal"}),Object(m.jsx)("p",{children:"Bronze medal: 1-30%"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:"./silver.png",alt:"silver medal"}),Object(m.jsx)("p",{children:"Silver medal: 31-80%"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:"./gold.png",alt:"gold medal"}),Object(m.jsx)("p",{children:"Gold medal: 81-100%"})]})]}),Object(m.jsxs)("p",{children:["PS. If you're interested in playing in Movie Quiz with crazy helpers,sounds and even more features, check out my"," ",Object(m.jsx)("a",{target:"_blank",href:"https://movie-quiz-app.cyclic.app/",rel:"noreferrer",children:"Movie Quiz!"})]}),Object(m.jsx)("button",{className:"settings__content--button",onClick:()=>c(!1),style:{color:"white"},children:"Start the game"})]}):"",!o&&!n&&Object(m.jsxs)("div",{className:"quiz__content",children:[Object(m.jsx)("h2",{children:"Geography Quiz"}),Object(m.jsxs)("div",{className:"quiz__content--number",children:[Object(m.jsxs)("h4",{children:["Question ",h,"/10"]}),Object(m.jsx)("p",{children:Object(m.jsx)(F,{setStop:i,qNumber:h})})]}),Object(m.jsxs)("div",{className:"quiz__game",children:[Object(m.jsx)("div",{className:"quiz__game--question",children:Object(m.jsx)("p",{children:u[f].question})}),Object(m.jsx)("div",{className:"quiz__game--buttons",children:u[f].answers.map(((e,t)=>Object(m.jsx)("button",{className:"quiz__game--singleButton",onClick:()=>(e.isCorrect&&d(l+1),x(h+1),u.splice(f,1),O(Math.floor(Math.random()*u.length)),void(10===h&&i(!0))),children:e.answerText},t)))})]})]}),n&&Object(m.jsxs)("div",{className:"quiz__game--endInfo",children:[Object(m.jsxs)("p",{children:["You reached the end of the game, your score is ",l,"/10"]}),Object(m.jsx)("button",{style:{color:"white"},className:"settings__content--button",onClick:()=>w(),children:"Play Again"})]}),o&&Object(m.jsx)(p,{})]})};s(29);var H=e=>{let{isActive:t,setIsActive:s}=e;const{items1:a,items2:r}=Object(M.c)((e=>e.directions)),n=e=>{var t;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"roadInfo__content--div",children:Object(m.jsxs)("div",{className:"roadInfo__content--details",children:[Object(m.jsx)("img",{src:e.img,alt:"country img"}),Object(m.jsx)("h3",{children:e.name}),Object(m.jsxs)("p",{children:["Capitol: ",e.capitol]}),Object(m.jsxs)("p",{children:["Gas price per 1L: ",e.gasolinePrice,"$"]}),Object(m.jsxs)("p",{children:["Population: ",e.population]}),Object(m.jsx)("h4",{children:"Top attractions to see:"}),Object(m.jsx)("div",{className:"roadInfo__content--attr",children:null===(t=e.attractions)||void 0===t?void 0:t.map(((t,s)=>Object(m.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"https://www.google.com/search?tbm=isch&q=".concat(t," ").concat(e.name),children:[s+1,") ",t]},s)))})]})})})};return Object(m.jsx)(m.Fragment,{children:a.isoAlpha3===r.isoAlpha3?Object(m.jsx)("div",{className:"roadInfo",style:t?{display:"flex"}:{display:"none"},children:Object(m.jsxs)("div",{className:"roadInfo__content roadInfo__content--single",children:[Object(m.jsx)("button",{onClick:()=>s(!1),className:"roadInfo__close",children:"\xd7"}),n(a)]})}):Object(m.jsx)("div",{className:"roadInfo",style:t?{display:"flex"}:{display:"none"},children:Object(m.jsxs)("div",{className:"roadInfo__content",children:[Object(m.jsx)("button",{onClick:()=>s(!1),className:"roadInfo__close",children:"\xd7"}),n(a),n(r)]})})})},V=s(36);var K=e=>{let{currentUser:t}=e;const[s,r]=Object(a.useState)(!1),[n,i]=Object(a.useState)(!1),[o,c]=Object(a.useState)(!1),[l,d]=Object(a.useState)(!0),[u,j]=Object(a.useState)(""),[h,x]=Object(a.useState)(""),[b,p]=Object(a.useState)(""),[f,O]=Object(a.useState)(""),[w,g]=Object(a.useState)(""),[C,v]=Object(a.useState)([]),[y,T]=Object(a.useState)(!1),[_,S]=Object(a.useState)(""),[N,k]=Object(a.useState)(""),{destination:A,origin:I,distance:P,gasolineD:q,gasolineO:D,roadInfo:z,items1:E,items2:U}=Object(M.c)((e=>e.directions)),[L,R]=Object(a.useState)(E.img),[B,W]=Object(a.useState)(U.img),J=new Date;Object(a.useEffect)((()=>{let e=!1;if(!e){let e=(q+D)/2,t=(P/100*7.7*e/1e3).toFixed(1);S(t),k(e)}return()=>{e=!0}}),[P]);const G=e=>.621371192*e;return Object(a.useEffect)((()=>{R(E.img),W(U.img)}),[E,U]),Object(m.jsxs)(m.Fragment,{children:[l?"":Object(m.jsx)("button",{title:"Close",className:"roadInfo--hide",onClick:()=>d(!0),children:"Roll down"}),E.gasolinePrice&&U.gasolinePrice&&z.kms?Object(m.jsxs)("div",{className:"road",style:l?{display:"flex"}:{display:"none"},children:[Object(m.jsxs)("div",{className:"road__content",style:l&&!n?{display:"flex"}:{display:"none"},children:[Object(m.jsxs)("select",{className:"road__content--select",onChange:e=>{return t=e.target.value,void T("miles"===t);var t},children:[Object(m.jsx)("option",{defaultValue:!0,value:"kms",children:"Km"}),Object(m.jsx)("option",{value:"miles",children:"Mi"})]}),Object(m.jsx)("button",{onClick:()=>d(!1),className:"road__content--closePopup",children:"\xd7"}),Object(m.jsxs)("p",{children:["Based on 7.7L/100",y?"mi":"km"]}),Object(m.jsxs)("p",{children:[y?G(_).toFixed(1):_,"$"]}),Object(m.jsx)("button",{onClick:()=>i(!0),className:"road__content--button",children:"Check your own gas"}),Object(m.jsx)("button",{className:"road__content--buttons",onClick:()=>r(!0),children:"See all the details about country(ies)"}),Object(m.jsx)("button",{className:"road__content--buttons",onClick:()=>{p(!1),c(!0)},children:"Save the road"})]}),Object(m.jsxs)("div",{className:"road__content",style:n?{display:"flex"}:{display:"none"},children:[Object(m.jsx)(V.a,{onClick:()=>i(!1),className:"road__content--closePopup"}),Object(m.jsx)("h3",{children:"Calculate with our liters"}),Object(m.jsx)("input",{type:"number",step:"0.01",min:"0",maxLength:"3",onChange:e=>{j(e.target.value)},placeholder:y?"Liters per miles":"Liters per kms"}),Object(m.jsxs)("p",{children:[y?(G(_)/7.7*u).toFixed(1):(_/7.7*u).toFixed(1),"$"]})]})]}):"",Object(m.jsx)("div",{style:o?{display:"flex"}:{display:"none"},className:"roadInfo",children:Object(m.jsxs)("div",{className:"roadInfo__form",children:[Object(m.jsx)("button",{onClick:()=>{p(!1),c(!1)},className:"roadInfo__close",children:"\xd7"}),Object(m.jsxs)("div",{className:"roadInfo__imgDiv",children:[Object(m.jsx)("img",{className:"roadInfo__imgDiv--img",src:E.img,alt:"flag"}),Object(m.jsx)("img",{className:"roadInfo__imgDiv--img",src:U.img?U.img:"",alt:"flag"})]}),Object(m.jsxs)("div",{className:"roadInfo__form--details",children:[Object(m.jsx)("p",{children:U.name===E.name?"".concat(E.name):"".concat(E.name," - ").concat(U.name)}),Object(m.jsxs)("p",{children:["Date: ",J.getDate(),"/",J.getMonth()+1,"/",J.getFullYear()]}),Object(m.jsx)("label",{children:"Title"}),Object(m.jsx)("input",{required:!0,placeholder:"Enter a title",onChange:e=>x(e.target.value),maxLength:25}),Object(m.jsx)("label",{children:"Liters"}),Object(m.jsx)("input",{type:"number",step:"0.01",min:"0",max:"99",placeholder:"Default 7.7L/".concat(y?"mi":"km"),onChange:e=>{p(e.target.value);const t=y?(G(_)/7.7*e.target.value).toFixed(1):(_/7.7*e.target.value).toFixed(1);O(t)}}),Object(m.jsxs)("p",{style:{fontSize:"16px"},children:["(Average fuel consumption (1L/","".concat(E&&U?((E.gasolinePrice+U.gasolinePrice)/2).toFixed(1):E.gasolinePrice,"$"),"))"]}),Object(m.jsxs)("p",{children:[b?f:y?G(_).toFixed(1):_,"$"]}),Object(m.jsx)("button",{className:"roadInfo__form--button",onClick:e=>(e=>{e.preventDefault();const s={user:t,title:h,countries:U.name===E.name?[E.name]:[E.name,U.name],img1:L,img2:B,gasoline:b||7.7,gasolinePrice:N||"",origin:[...I],destination:[...A],kms:z.kms,duration:z.duration,fullPrice:f&&y?(1.609344*f).toFixed(1):b?f:_};fetch("/createroad",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({...s})}).then((e=>{e.ok?(v([...C,e.road]),g(""),c(!1)):g(e.status)})).catch((e=>{throw e}))})(e),type:"submit",children:"Save the Road"}),422===w?Object(m.jsx)("span",{style:{color:"red"},children:"You're passing the wrong value!"}):"",401===w?Object(m.jsx)("span",{style:{color:"red"},children:"You're not logged in!"}):""]})]})}),Object(m.jsx)(H,{setIsActive:r,isActive:s})]})};const Q={width:"100vw",height:"100vh",maxHeight:"100vh",position:"absolute",zIndex:"-1",overflow:"hidden"};var $=()=>{const[e,t]=Object(a.useState)(null);let r=s(83);const[n,i]=Object(a.useState)(!1),[o,l]=Object(a.useState)(!1),[j,x]=Object(a.useState)(!1),[b,p]=Object(a.useState)(localStorage.getItem("user")),[g,C]=Object(a.useState)(!1),[v,y]=Object(a.useState)(!1),[T,N]=Object(a.useState)(!1),k=Object(a.useRef)(null),I=Object(M.b)();return localStorage.setItem("questions",JSON.stringify(r)),c.a.accessToken="*YOUR KEY*",Object(a.useEffect)((()=>{e||(async e=>{let{setMap:t,mapContainer:s}=e;const a=await h.a.get("https://countries-info-api.cyclic.app/countries"),r=new c.a.Map({container:s.current,style:"mapbox://styles/mapbox/streets-v11?optimize=true",center:[-.118092,51.509865],zoom:11,noWrap:!0}),n=new d.a({accessToken:c.a.accessToken,unit:"metric",profile:"mapbox/driving"});n.on("origin",(function(e){try{const t=e.feature.geometry.coordinates,[s,r]=[...t];I(S([s,r]));const n=Object(u.a)([s,r]),i=a.data.filter((e=>e.isoAlpha3===n));I(P(i[0])),I(E(i[0].gasolinePrice))}catch(t){throw t}})),n.on("destination",(function(e){try{const t=e.feature.geometry.coordinates,[s,r]=[...t];I(_([s,r]));const n=Object(u.a)([s,r]),i=a.data.filter((e=>e.isoAlpha3===n));I(q(i[0])),I(z(i[0].gasolinePrice))}catch(t){throw t}})),n.on("route",(e=>{if(0===e.route.length)I(P("")),I(q(""));else{const t={kms:e.route[0].distance,duration:e.route[0].duration};I(A(t));const s=Object.assign(...e.route);I(D(s.distance))}})),r.on("load",(()=>{t(r),r.resize()}));const i=new c.a.NavigationControl;r.addControl(i),r.addControl(n,"top-left")})({setMap:t,mapContainer:k})}),[e]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{ref:e=>k.current=e,style:Q}),Object(m.jsx)(K,{currentUser:b}),b?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"menu",children:[Object(m.jsx)("button",{className:"menu__button",onClick:()=>l(!0),children:"Profile"}),Object(m.jsx)("button",{className:"menu__button",onClick:()=>x(!0),children:"Quiz"}),Object(m.jsx)("button",{className:"menu__button",onClick:()=>i(!0),children:"Dashboard"})]})}):Object(m.jsxs)("div",{className:"menu",children:[Object(m.jsx)("button",{className:"menu__button",onClick:()=>C(!0),children:Object(m.jsx)("span",{className:"front",children:"Register"})}),Object(m.jsx)("button",{className:"menu__button",onClick:()=>y(!0),children:Object(m.jsx)("span",{className:"front",children:"Log in"})}),Object(m.jsx)("button",{className:"menu__button",onClick:()=>N(!0),children:Object(m.jsx)("span",{className:"front",children:"Info"})})]}),g&&Object(m.jsx)(O,{setShowRegister:C}),v&&Object(m.jsx)(w,{setShowLogin:y,setCurrentUser:p}),n&&Object(m.jsx)(f,{isActive:n,setIsActive:i}),o&&Object(m.jsx)(W,{isActive:o,setIsActive:l}),T&&Object(m.jsx)(G,{setIsActive:N}),j&&Object(m.jsx)(Y,{isActive:j,setIsActive:x})]})};const Z=Object(y.a)({reducer:{directions:U}});var X=s(17),ee=s(3),te=(s(84),s.p+"static/media/logo.f85fa110.png");var se=()=>{let e=Object(ee.f)();const[t,s]=Object(a.useState)(""),[r,n]=Object(a.useState)(""),[i,o]=Object(a.useState)("");return Object(m.jsxs)("div",{className:"resetPassword",children:[Object(m.jsxs)("ul",{class:"circles",children:[Object(m.jsx)("li",{}),Object(m.jsx)("li",{}),Object(m.jsx)("li",{}),Object(m.jsx)("li",{}),Object(m.jsx)("li",{}),Object(m.jsx)("li",{}),Object(m.jsx)("li",{}),Object(m.jsx)("li",{}),Object(m.jsx)("li",{}),Object(m.jsx)("li",{})]}),Object(m.jsxs)("div",{className:"resetPassword__menu",children:[Object(m.jsx)("img",{src:te,alt:"mapu logo"}),Object(m.jsx)("h1",{children:"Reset your password"})]}),Object(m.jsxs)("form",{className:"resetPassword__form",children:[Object(m.jsx)(g.a,{}),Object(m.jsx)("h4",{children:"Enter your new password here"}),Object(m.jsx)("input",{type:"password",placeholder:"Type new password",onChange:e=>s(e.target.value),value:t}),Object(m.jsx)("input",{type:"password",placeholder:"Type new password again",onChange:e=>o(e.target.value),value:i}),400===r?Object(m.jsx)("span",{style:{color:"red"},children:"Token is invalid or has expired"}):"",500===r?Object(m.jsx)("span",{style:{color:"red"},children:"One of the passwords is wrong!"}):"",Object(m.jsx)("button",{onClick:s=>(async s=>{s.preventDefault();const a=window.location.pathname.slice(15),r={password:t,passwordConfirm:i};try{200===(await h.a.patch("/resetpassword/".concat(a),r)).status&&e("/")}catch(o){n(o.response.status)}})(s),children:"Sumbit"})]})]})};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsxs)(M.a,{store:Z,children:[Object(m.jsx)($,{}),Object(m.jsx)(X.a,{children:Object(m.jsx)(ee.c,{children:Object(m.jsx)(ee.a,{path:"/resetpassword/:token",element:Object(m.jsx)(se,{})})})})]})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.62740fb4.chunk.js.map